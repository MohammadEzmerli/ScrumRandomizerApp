@inject ScrumRandomizerService scrumRandomizerService

<Microsoft.MobileBlazorBindings.Elements.GridCell>
    <RandomizedParticipantComponent CurrentScrumParticipant="@CurrentScrumParticipant" />
</Microsoft.MobileBlazorBindings.Elements.GridCell>

<Microsoft.MobileBlazorBindings.Elements.GridCell Row="2">
    <Microsoft.MobileBlazorBindings.Elements.Button OnClick="NextParticipant" Text="Next" IsEnabled="@EnableButton()" />

</Microsoft.MobileBlazorBindings.Elements.GridCell>

@code {
    [Parameter]
    public List<ScrumParticipant> ScrumParticipants { get; set; }

    private ScrumParticipant CurrentScrumParticipant { get; set; }
    private Microsoft.MobileBlazorBindings.Elements.Button nextButton;


    int index = 0;

    protected override async Task OnInitializedAsync()
    {
        if (index < ScrumParticipants.Count)
        {
            ScrumParticipants = scrumRandomizerService.RandomizeScrumParticipants(ScrumParticipants);
            CurrentScrumParticipant = ScrumParticipants.ElementAt(index);
            index++;
        }
        if (index >= ScrumParticipants.Count)
        {
        }
    }

    private void NextParticipant()
    {
        if (index < ScrumParticipants.Count)
        {
            CurrentScrumParticipant = ScrumParticipants.ElementAt(index);
            index++;
        }
        else
        {
        }
    }


    private bool EnableButton()
    {
        return ScrumParticipants.Count > index;
    }
}